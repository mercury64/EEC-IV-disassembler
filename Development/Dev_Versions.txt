5.0.3

NB. still some issues outstanding from 5.0.2, but releasing this as several things fixed. 

FIXED - incorrect logic for conditional jump JNC/JC printed. (other jumps checked too).
FIXED - incorrect bank printed after ROMBANK prefix.
FIXED - XOR not printing correct operator (^= instead of =) 
FIXED - functions not being extended to their true endpoint.
FIXED - '= calcname' returns "invalid calctype"
FIXED - columns not lining up for some structs
FIXED - args overlapping in printouts.
FIXED - "commands overlap" error reported for adjacent commands 


CHANGE - put 'timer' command back, as it looks like this will be best solution, with a 'type' attached (maybe with a size too).
TEMP -  change printout of JNV/JV (overflow flag) to 'if OVF = " as previous format doesn't appear to be correct. More work to do.
 




5.0.2. ALPHA

FIXED -  Drag and drop and 'open with' in Windows causes crash and/or 'file not found'. (incorrect file path handling)
FIXED -  Duplicate symbol error in commands when sym is write 'W', if W option appears before 'B' option 
FIXED -  'rowsize is zero' error - appearing when it should not
FIXED -  '2 values required' with 'F <functype> special subroutine type - only tables require 2 values.
FIXED -  Incorrect checking of number of data items (i.e. number of '[]' items) in commands.



5.0.1 ALPHA

for user evaluation.

CHANGE - Large parts of SAD rewritten.
CHANGE - New command syntax.
NEW    - Supports true multibit fields. Fields can be nested within each other
NEW    - Supports a 'calc' command for true math calculations.
NEW    - Added autodetect of word tables.
 
-------------------------------------------------------------  

4.0.12

1. Revise address validation (again !!)  For all address inputs in .dir and .cmt files). 
   Final rules are - 
   All addresses are read as up to 5 hex digits, 0xfffff. The first digit is bank. Valid banks are 0,1,8,9 for all bins.
   Registers are 0x0 to 0x3ff (0x0 to 0xff for 8061) Registers cannot have a bank.  Leading zeroes are ignored for compatibility.
   
   Single banks (all 8061, some 8065) No bank required (i.e. 4 digits). Addresses may have a bank 8 attached, which is not displayed. 
   Multibanks.  
   0x400 to 0x1fff allowed, and defaults to Bank 1 (= data bank in every bin .... so far)
   0x2000 to 0xffff MUST have a bank attached.

2. Fixed - Incorrect print layout for 'split comments' ('|' character) and bit names with AND and OR opcodes.
3. Fixed - Comments showing write symbol names ('\S') when they should be read names.
4. Add   - Word tables in .dir commands.     (not detected automatically yet, due soon)

-------------------------------------------------------------  



Note 4.0.7.16  version moved to stable

NOTE - After a HUGE gap, during which I was trying to write a new much neater, much more elegant version (which I can't get to work !)
I decide to go back to the last working version and start over. 
 
Changed to simpler version numbering.

From here I will probably merge in many of those new versions from this attempt.

-------------------------------------------------------------



4.0.11 (10 mar 23)

1. Revert change to 'skip' opcode, which seems to cause several issues

2. change address validation to match other common tools (I hope)

-------------------------------------------------------------

NB.  4.0.10 removed due to another stupid error in address validation

-------------------------------------------------------------


4.0.9

1. Fix regression errors causing symbol names not to be matched correctly in various places in code printout (my error from changes in 4.08)

2. Fix inconsistent spaces in comments after symbol addresses (\S syntax)  

3. Turn off 'gap detect' again as it causes some strange behaviour and user commands to be ignored.



-------------------------------------------------------------

4.0.8  (01 Mar 2023)

Fixed - Inconsistent handling of addresses (bank prefixes) in multibanks across symbols, comments, commands.

NB. I expect probable regression errors as I have changed the whole address verification to use the same routine...

OOPS! I also left on the 'gap detect' from v 4.06 which does work for functions but not so well for tables, and it does produce some
false matches.

-------------------------------------------------------------

Note 4.0.7.16  version moved to stable as 4.0.7 


(dropped older version descriptions)



-------------------------------------------------------------



















